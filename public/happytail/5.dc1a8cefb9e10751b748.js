(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ZCTS:function(t,e,i){"use strict";i.r(e),i.d(e,"HomeModule",function(){return Lt});var s=i("SVse"),o=i("iInd"),n=i("G0yt"),r=i("PSD3"),h=i.n(r),a=i("8Y7J"),c=i("7g+E"),l=i("gkCN"),d=i("LqlI"),u=i("cFG6"),p=i("npAJ"),_=i("s7LF");function g(t,e){1&t&&(a.Sb(0,"div"),a.Nb(1,"hr"),a.Sb(2,"p"),a.Ic(3,"Log in to follow creators, like videos, and view comments."),a.Rb(),a.Sb(4,"button",13),a.Ic(5,"Login"),a.Rb(),a.Rb())}function m(t,e){1&t&&a.Nb(0,"img",25)}function f(t,e){if(1&t&&a.Nb(0,"img",26),2&t){const t=a.fc().$implicit;a.kc("src",t.user.profile_picture_url,a.zc)}}function b(t,e){if(1&t){const t=a.Tb();a.Sb(0,"img",27),a.dc("click",function(){a.xc(t);const e=a.fc().$implicit;return a.fc().addLike(e.id,1)}),a.Rb()}}function v(t,e){if(1&t){const t=a.Tb();a.Sb(0,"img",28),a.dc("click",function(){a.xc(t);const e=a.fc().$implicit;return a.fc().addLike(e.id,0)}),a.Rb()}}function y(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div"),a.Sb(1,"div",14),a.Sb(2,"div",4),a.Gc(3,m,1,0,"img",15),a.Gc(4,f,1,1,"img",16),a.Sb(5,"div"),a.Sb(6,"b",9),a.Ic(7),a.Rb(),a.Nb(8,"br",9),a.Sb(9,"span",9),a.Ic(10,"zadsd"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(11,"div"),a.Sb(12,"video",17),a.Nb(13,"source",18),a.Rb(),a.Rb(),a.Sb(14,"div",19),a.Sb(15,"div"),a.Gc(16,b,1,0,"img",20),a.Gc(17,v,1,0,"img",21),a.Rb(),a.Sb(18,"span",22),a.Ic(19),a.Rb(),a.Sb(20,"img",23),a.dc("click",function(){a.xc(t);const i=e.$implicit,s=a.fc(),o=a.uc(28);return s.modalComments(o,i.id)}),a.Rb(),a.Nb(21,"br"),a.Sb(22,"img",24),a.dc("click",function(){return a.xc(t),a.fc().copyUrl()}),a.Rb(),a.Rb(),a.Nb(23,"hr"),a.Rb()}if(2&t){const t=e.$implicit;a.zb(3),a.kc("ngIf",""==t.user.profile_picture),a.zb(1),a.kc("ngIf",""!=t.user.profile_picture),a.zb(3),a.Jc(t.user.name),a.zb(6),a.kc("src",t.video_url,a.zc),a.zb(3),a.kc("ngIf",0==t.liked),a.zb(1),a.kc("ngIf",1==t.liked),a.zb(2),a.Jc(t.likes)}}function w(t,e){1&t&&(a.Sb(0,"div"),a.Sb(1,"span",37),a.Ic(2,"No Comments"),a.Rb(),a.Rb())}function x(t,e){if(1&t&&a.Nb(0,"img",44),2&t){const t=a.fc().$implicit;a.kc("src",t.user.profile_picture_url,a.zc)}}function S(t,e){if(1&t&&(a.Sb(0,"div"),a.Sb(1,"div",38),a.Sb(2,"div",39),a.Gc(3,x,1,1,"img",40),a.Rb(),a.Sb(4,"div",41),a.Sb(5,"div",4),a.Sb(6,"b",42),a.Ic(7),a.Rb(),a.Rb(),a.Sb(8,"span",43),a.Ic(9),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&t){const t=e.$implicit;a.zb(3),a.kc("ngIf",null!=t.user.profile_picture_url),a.zb(4),a.Jc(t.user.name),a.zb(2),a.Kc(" ",t.comment," ")}}function k(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",2),a.Sb(1,"span",45),a.Sb(2,"input",46),a.dc("ngModelChange",function(e){return a.xc(t),a.fc(2).comment=e})("ngModelChange",function(){return a.xc(t),a.fc(2).removeErrors("#l11")})("keyup.enter",function(){return a.xc(t),a.fc(2).checkComment()}),a.Rb(),a.Sb(3,"img",47),a.dc("click",function(){return a.xc(t),a.fc(2).checkComment()}),a.Rb(),a.Rb(),a.Nb(4,"span",48),a.Rb()}if(2&t){const t=a.fc(2);a.zb(2),a.kc("ngModel",t.comment)}}function C(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",29),a.Sb(1,"button",30),a.dc("click",function(){a.xc(t);const e=a.fc();return e.modalRef.hide(),e.close()}),a.Sb(2,"span",31),a.Ic(3,"\xd7"),a.Rb(),a.Rb(),a.Sb(4,"h3",32),a.Ic(5,"Comments"),a.Rb(),a.Nb(6,"hr",33),a.Sb(7,"div",34),a.Gc(8,w,3,0,"div",7),a.Gc(9,S,10,3,"div",11),a.Rb(),a.Nb(10,"div",35),a.Gc(11,k,5,1,"div",36),a.Rb()}if(2&t){const t=a.fc();a.zb(8),a.kc("ngIf",0==t.resultListComment.length),a.zb(1),a.kc("ngForOf",t.resultListComment),a.zb(2),a.kc("ngIf",1==t.commentModalToggle)}}const R=[{path:"",component:(()=>{class t{constructor(t,e,i,s,o,n,r){this.spinner=t,this.reuseFun=e,this.modalService=i,this.routes=s,this.service=o,this.auth=n,this.activeRoute=r,this.resultList=[],this.resultListFeed=[],this.resultListComment=[],this.resultListLike=[],this.review=[],this.editComments=!0,this.commentModalToggle=!0,this.comments=[],this.pageNum=1,this.resultListFollower=[],this.value=1,this.config={ignoreBackdropClick:!0,class:"modal-md modal-dialog-centered"},this.dukanId=this.activeRoute.snapshot.queryParamMap.get("dukanId"),this.userId=this.auth.getUserId(),this.isLoggedIn=this.auth.isLoggedIn(),this.imagePath=this.reuseFun.imagePath,$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-100&&$("#otherProd").trigger("click")})}ngOnInit(){this.spinner.show(),this.isLoggedIn?this.homefeed():this.guestHomefeed()}copyUrl(t){let e=`${location.origin}/product-page?productId=${t}`,i=document.createElement("textarea");i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.opacity="0",i.value=e,document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i)}follow(t,e){this.spinner.show(),this.service.follow(this.userId,t).subscribe(t=>{400==t.data.code||(this.isLoggedIn?this.listLike(e):this.listLikeGuest(e),this.spinner.hide())},t=>{})}listUserFollowings(){this.spinner.show(),this.service.listUserFollowings(this.userId).subscribe(t=>{400==t.data.code?(this.spinner.hide(),this.reuseFun.errorShowSwal(t.data.message)):(this.resultListFollower=t.data.result,this.resultListFollower.forEach(t=>{t.status=!1}),this.spinner.hide())},t=>{})}modalReport(t,e,i){this.modalRef=this.modalService.show(t,this.config),this.pId=e,this.productTitle=i}close(){this.reason=null,this.comments=[]}modalComments(t,e){this.commentModalToggle=!0,this.listComment(e),this.commentProductId=e,this.modalRef=this.modalService.show(t,this.config)}modalFollowings(t,e,i,s,o){this.listUserFollowings(),this.postId=e,this.postOwnerThumbnail=i,this.postOwnerDukanName=s,this.postImage=o,this.modalRef=this.modalService.show(t,this.config)}modalLike(t,e){this.resultListLike=[],this.isLoggedIn?this.listLike(e):this.listLikeGuest(e),this.modalRef=this.modalService.show(t,this.config)}removeErrors(t){$(t).text("")}homefeed(){this.spinner.show(),this.service.homefeed().subscribe(t=>{400==t.data.code||(this.resultList=t.data),this.spinner.hide()},t=>{this.reuseFun.errorShowSwal(t.message)})}guestHomefeed(){this.spinner.show(),this.service.guestHomefeed().subscribe(t=>{400==t.data.code||(this.resultList=t.data),this.spinner.hide()},t=>{this.reuseFun.errorShowSwal(t.message)})}checkComment(){let t=!1;this.reuseFun.textTypeLength("#l11","comment",this.comment.length,1,250)&&(t=!0),0==t&&this.addcomment(this.commentProductId,this.comment)}checkReason(t){let e=!1;this.reuseFun.textTypeLength("#l1","reason",t.value.reason.length,1,250)&&(e=!0),0==e&&this.reportProduct(t)}getAllFeeds(t=null,e=null){this.service.listFeeds(this.userId,1).subscribe(t=>{400==t.data.code?this.spinner.show():(this.resultListFeed=t.data.userResult.data,this.previousPageCount=this.resultListFeed.length,this.resultListFeed.forEach((t,e)=>{t.imageIndex=0,t.imagePath=this.resultListFeed[e].image_product[0].image}),this.spinner.hide())},t=>{})}setImage(t,e,i){this.resultListFeed[e].imagePath=i,this.resultListFeed[e].imageIndex=t}getAllFeedsGuests(t=null,e=null){this.service.listFeedsGuests(1).subscribe(t=>{400==t.data.code?this.spinner.show():(this.resultListFeed=t.data.userResult.data,this.resultListFeed.forEach((t,e)=>{t.imageIndex=0,t.imagePath=this.resultListFeed[e].image_product[0].image}),this.previousPageCount=this.resultListFeed.length,this.spinner.hide())},t=>{})}otherFeeds(t=null,e=null){20==this.previousPageCount&&(this.pageNum++,this.service.listFeeds(this.userId,this.pageNum).subscribe(t=>{400==t.data.code?this.spinner.show():(this.previousPageCount=t.data.userResult.data.length,this.newFeeds=t.data.userResult.data,this.newFeeds.forEach((t,e)=>{t.imageIndex=0,t.imagePath=this.newFeeds[e].image_product[0].image}),this.resultListFeed=this.resultListFeed.concat(this.newFeeds),this.spinner.hide())},t=>{}))}addLike(t,e){this.spinner.show(),console.log(this.spinner),this.service.addLike(t,e).subscribe(t=>{400==t.message||(this.spinner.hide(),this.homefeed())},t=>{})}chatRedirect(t,e,i){this.auth.sendChatDukanName(i),this.auth.sendChatUserId(t),this.auth.sendChatThumbnail(e),this.auth.sendChatBool(1),this.routes.navigate(["/chat-box"])}addcomment(t,e){this.service.addcomment(t,e).subscribe(e=>{400==e.data.code?(this.spinner.hide(),this.reuseFun.errorShowSwal(e.data.message)):(this.comments=[],this.listComment(t),this.comment="")},t=>{})}updateComment(t,e,i){this.commentModalToggle=!0,this.service.updateComment(t,e).subscribe(t=>{400==t.data.code||(this.comments=[],this.listComment(i))},t=>{})}deleteComment(t,e){h.a.fire({text:"Are you sure you want to delete comment!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff5757",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(i=>{i.value&&(this.spinner.show(),this.service.deleteComment(t,e).subscribe(t=>{400==t.data.code||(this.comments=[],this.reuseFun.successShowSwal(t.data.message),this.listComment(e))},t=>{}))})}editComment(t){this.commentModalToggle=!1,this.comments[t].textField=!1}reportProduct(t){this.spinner.show(),this.service.reportProduct(this.pId,this.userId,t.value.reason,this.productTitle).subscribe(t=>{400==t.data.code?(this.spinner.hide(),this.reuseFun.errorShowSwal(t.data.message)):(this.reuseFun.successShowSwal(t.data.message),this.modalRef.hide(),this.spinner.hide())},t=>{})}productDetail(t){this.routes.navigate(["/product-page"],{queryParams:{productId:t}})}listComment(t){console.log(t),this.spinner.show(),this.service.listComment(t).subscribe(t=>{400==t.data.code||(this.resultListComment=t.data,console.log(this.resultListComment),this.spinner.hide())},t=>{})}listLike(t){this.spinner.show(),this.service.listLike(t).subscribe(t=>{400==t.data.code||(this.resultListLike=t.data.result,this.spinner.hide())},t=>{})}listLikeGuest(t){this.spinner.show(),this.service.listLikeGuest(t).subscribe(t=>{400==t.data.code||(this.resultListLike=t.data.result,this.spinner.hide())},t=>{})}addWishList(t){this.spinner.show(),this.service.addWishList(this.userId,t).subscribe(t=>{400==t.data.code||(this.getAllFeeds(),this.spinner.hide())},t=>{})}deleteProduct(t){h.a.fire({text:"Are you sure you want to delete product!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff5757",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(e=>{e.value&&(this.spinner.show(),this.service.deleteProduct(this.userId,t).subscribe(t=>{400==t.data.code?(this.spinner.hide(),this.reuseFun.errorShowSwal(t.data.message)):(this.reuseFun.successShowSwal(t.data.message),this.getAllFeeds(),this.spinner.hide())},t=>{}))})}update(t,e){1==e&&this.modalRef.hide(),this.isLoggedIn&&this.userId==t?this.routes.navigate(["/profile"]):this.routes.navigate(["/dukan"],{queryParams:{dukanId:t}})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(c.b),a.Mb(l.a),a.Mb(d.a),a.Mb(o.b),a.Mb(u.a),a.Mb(p.a),a.Mb(o.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-home"]],features:[a.yb([n.a])],decls:29,vars:2,consts:[[2,"height","80px"],[1,"container"],[1,"row"],[1,"col-4"],[1,"d-flex"],["src","/happytail/assets/images/home.png",2,"width","30px","height","30px"],[1,"ml-2"],[4,"ngIf"],["src","/happytail/assets/images/3.png",1,"sug-acc-img","mr-2"],[1,"m-0"],[1,"col-8"],[4,"ngFor","ngForOf"],["commentsTemplate",""],["routerLink","/login",1,"login-btn"],[1,"justify-content-between","d-flex"],["class","sug-acc-img mr-2 mb-1","src","/happytail/assets/images/default.png",4,"ngIf"],["class","sug-acc-img mr-2 mb-1",3,"src",4,"ngIf"],["width","280","height","400","controls","",2,"object-fit","initial"],["type","video/mp4",3,"src"],[1,"like-comment"],["class","pointer","style","height: 30px; width: 30px;","src","/happytail/assets/images/unlike.png",3,"click",4,"ngIf"],["class","pointer","style","height: 30px; width: 30px;","src","/happytail/assets/images/like.png",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center","mb-2"],["src","/happytail/assets/images/comment.png",2,"height","30px","width","30px",3,"click"],["src","/happytail/assets/images/share.png",1,"mt-3",2,"height","25px","width","25px",3,"click"],["src","/happytail/assets/images/default.png",1,"sug-acc-img","mr-2","mb-1"],[1,"sug-acc-img","mr-2","mb-1",3,"src"],["src","/happytail/assets/images/unlike.png",1,"pointer",2,"height","30px","width","30px",3,"click"],["src","/happytail/assets/images/like.png",1,"pointer",2,"height","30px","width","30px",3,"click"],[1,"modal-body"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modalTitle","extrabold","mt-1","mb-1"],[1,"new3"],[2,"height","400px","max-height","400px","overflow-x","auto"],[2,"height","10px"],["class","row",4,"ngIf"],[1,"ml-1"],[1,"row","ml-1","mr-1","mb-2"],[1,"comment-username"],["class","comment-acc pointer",3,"src",4,"ngIf"],[1,"ml-2","comment-space"],[1,"pointer"],[1,"comment-lenght"],[1,"comment-acc","pointer",3,"src"],[1,"comment-bar","p-1"],["type","text","maxlength","150","name","comment","required","","type","text","placeholder","comment","aria-label","comment",1,"comment-input-field",3,"ngModel","ngModelChange","keyup.enter"],["height","20px","src","/happytail/assets/images/enter.png","type","submit",1,"comment-btn",3,"click"],["id","l11",1,"help-block","position-absolute",2,"margin-top","30px","margin-left","20px"]],template:function(t,e){1&t&&(a.Nb(0,"div",0),a.Sb(1,"div",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"div",4),a.Nb(5,"img",5),a.Sb(6,"h3",6),a.Ic(7,"For you"),a.Rb(),a.Rb(),a.Gc(8,g,6,0,"div",7),a.Nb(9,"hr"),a.Sb(10,"h4"),a.Ic(11,"Suggested accounts"),a.Rb(),a.Sb(12,"div",4),a.Nb(13,"img",8),a.Sb(14,"div"),a.Sb(15,"b",9),a.Ic(16,"Abc123"),a.Rb(),a.Nb(17,"br",9),a.Sb(18,"span",9),a.Ic(19,"zadsd"),a.Rb(),a.Rb(),a.Rb(),a.Nb(20,"hr"),a.Sb(21,"h4"),a.Ic(22,"Discover"),a.Rb(),a.Nb(23,"hr"),a.Nb(24,"p"),a.Rb(),a.Sb(25,"div",10),a.Gc(26,y,24,7,"div",11),a.Rb(),a.Rb(),a.Rb(),a.Gc(27,C,12,3,"ng-template",null,12,a.Hc)),2&t&&(a.zb(8),a.kc("ngIf",!e.isLoggedIn),a.zb(18),a.kc("ngForOf",e.resultList))},directives:[s.l,s.k,o.c,_.a,_.g,_.q,_.k,_.n],styles:[".login-btn[_ngcontent-%COMP%]{width:100%;color:#5894bd;background-color:initial;border:1px solid #5894bd;height:48px;border-radius:4px}.sug-acc-img[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;border:1px solid grey}.follow-btn[_ngcontent-%COMP%]{color:#fe3159;background-color:initial;border:1px solid #fe2c55;height:48px;border-radius:4px;font-weight:600;font-size:16px;line-height:22px;min-width:88px;padding:0 10px;height:28px}.like-comment[_ngcontent-%COMP%]{position:absolute;right:420px;margin-top:-200px}.edit-comment-bar[_ngcontent-%COMP%]{width:89%;height:25px;margin:10px 0 10px 6px;border-radius:5px;border:1px solid #ff5757;padding:0 0 0 10px}@media (max-width:540px){.edit-comment-bar[_ngcontent-%COMP%]{width:89%}}.comment-input-field[_ngcontent-%COMP%]{border:none;width:94%}@media (max-width:405px){.comment-input-field[_ngcontent-%COMP%]{width:91%}}.comment-lenght[_ngcontent-%COMP%]{line-break:anywhere}@media (max-width:465px){.edit-comment-bar[_ngcontent-%COMP%]{width:82%}.comment-edit[_ngcontent-%COMP%]{width:87%}}.comment-edit[_ngcontent-%COMP%]{border:none;width:94%}.comment-bar[_ngcontent-%COMP%]{width:100%;border-radius:5px;border:1px solid #ff5757;margin:0 20px;padding:0 0 0 20px}.comment-username[_ngcontent-%COMP%]{font-weight:700}.comment-acc[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%}@media (max-width:340px){.comment-acc[_ngcontent-%COMP%]{height:29px;width:29px;margin-top:4px}}"]}),t})()}];var O=i("7KAL"),P=i("SCoL"),E=i("9gLZ"),L=i("8LU1");class I{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class F extends I{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class j extends I{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class B extends I{constructor(t){super(),this.element=t instanceof a.l?t.nativeElement:t}}class D extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof F?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof j?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof B?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,s,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=t=>{const e=t.element,i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})},this._document=o}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=e.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(t=>this.outletElement.appendChild(t)),i.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(i);-1!==t&&e.remove(t)}),i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let M=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)}}),t})();var A=i("XNiG"),T=i("quSY"),z=i("VRyK"),H=i("IzEk"),N=i("1G5W");i("7o/Q"),i("Ht+U");class V{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(L.c)(-this._previousScrollPosition.left),t.style.top=Object(L.c)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,i=this._document.body.style,s=e.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=s,i.scrollBehavior=o}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Y{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class X{enable(){}disable(){}attach(){}}function G(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function W(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Z{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();G(t,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q=(()=>{class t{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this.noop=()=>new X,this.close=t=>new Y(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new V(this._viewportRuler,this._document),this.reposition=t=>new Z(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=s}}return t.\u0275fac=function(e){return new(e||t)(a.ac(O.c),a.ac(O.e),a.ac(a.z),a.ac(s.d))},t.\u0275prov=Object(a.Ib)({factory:function(){return new t(Object(a.ac)(O.c),Object(a.ac)(O.e),Object(a.ac)(a.z),Object(a.ac)(s.d))},token:t,providedIn:"root"}),t})();class J{constructor(t){if(this.scrollStrategy=new X,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class K{constructor(t,e,i,s,o){this.offsetX=i,this.offsetY=s,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class U{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Q=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(a.ac(s.d))},t.\u0275prov=Object(a.Ib)({factory:function(){return new t(Object(a.ac)(s.d))},token:t,providedIn:"root"}),t})(),tt=(()=>{class t extends Q{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let i=e.length-1;i>-1;i--)if(e[i]._keydownEvents.observers.length>0){e[i]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(a.ac(s.d))},t.\u0275prov=Object(a.Ib)({factory:function(){return new t(Object(a.ac)(s.d))},token:t,providedIn:"root"}),t})(),et=(()=>{class t extends Q{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,i=this._attachedOverlays.slice();for(let s=i.length-1;s>-1;s--){const o=i[s];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e))break;o._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(a.ac(s.d),a.ac(P.a))},t.\u0275prov=Object(a.Ib)({factory:function(){return new t(Object(a.ac)(s.d),Object(a.ac)(P.a))},token:t,providedIn:"root"}),t})();const it=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let st=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||it){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),it?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(a.ac(s.d),a.ac(P.a))},t.\u0275prov=Object(a.Ib)({factory:function(){return new t(Object(a.ac)(s.d),Object(a.ac)(P.a))},token:t,providedIn:"root"}),t})();class ot{constructor(t,e,i,s,o,n,r,h,a){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=o,this._keyboardDispatcher=n,this._document=r,this._location=h,this._outsideClickDispatcher=a,this._backdropElement=null,this._backdropClick=new A.a,this._attachments=new A.a,this._detachments=new A.a,this._locationChanges=T.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new A.a,this._outsidePointerEvents=new A.a,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(H.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Object(L.c)(this._config.width),t.height=Object(L.c)(this._config.height),t.minWidth=Object(L.c)(this._config.minWidth),t.minHeight=Object(L.c)(this._config.minHeight),t.maxWidth=Object(L.c)(this._config.maxWidth),t.maxHeight=Object(L.c)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=t.classList;Object(L.a)(e).forEach(t=>{t&&(i?s.add(t):s.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Object(N.a)(Object(z.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const nt="cdk-overlay-connected-position-bounding-box",rt=/([A-Za-z%]+)$/;class ht{constructor(t,e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new A.a,this._resizeSubscription=T.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(nt),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=[];let o;for(let n of this._preferredPositions){let r=this._getOriginPoint(t,n),h=this._getOverlayPoint(r,e,n),a=this._getOverlayFit(h,e,i,n);if(a.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(n,r);this._canFitWithFlexibleDimensions(a,h,i)?s.push({position:n,origin:r,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(r,n)}):(!o||o.overlayFit.visibleArea<a.visibleArea)&&(o={overlayFit:a,overlayPoint:h,originPoint:r,position:n,overlayRect:e})}if(s.length){let t=null,e=-1;for(const i of s){const s=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);s>e&&(e=s,t=i)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&at(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,s;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;i="start"==e.originX?s:o}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:s}}_getOverlayPoint(t,e,i){let s,o;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+o}}_getOverlayFit(t,e,i,s){let{x:o,y:n}=t,r=this._getOffset(s,"x"),h=this._getOffset(s,"y");r&&(o+=r),h&&(n+=h);let a=0-n,c=n+e.height-i.height,l=this._subtractOverflows(e.width,0-o,o+e.width-i.width),d=this._subtractOverflows(e.height,a,c),u=l*d;return{visibleArea:u,isCompletelyWithinViewport:e.width*e.height===u,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,o=i.right-e.x,n=ct(this._overlayRef.getConfig().minHeight),r=ct(this._overlayRef.getConfig().minWidth),h=t.fitsInViewportHorizontally||null!=r&&r<=o;return(t.fitsInViewportVertically||null!=n&&n<=s)&&h}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=this._viewportRect,o=Math.max(t.x+e.width-s.width,0),n=Math.max(t.y+e.height-s.height,0),r=Math.max(s.top-i.top-t.y,0),h=Math.max(s.left-i.left-t.x,0);let a=0,c=0;return a=e.width<=s.width?h||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,c=e.height<=s.height?r||-n:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:a,y:c},{x:t.x+a,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),i=new U(t,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let o,n,r,h,a,c;if("top"===e.overlayY)n=t.y,o=i.height-n+this._viewportMargin;else if("bottom"===e.overlayY)r=i.height-t.y+2*this._viewportMargin,o=i.height-r+this._viewportMargin;else{const e=Math.min(i.bottom-t.y+i.top,t.y),s=this._lastBoundingBoxSize.height;o=2*e,n=t.y-e,o>s&&!this._isInitialRender&&!this._growAfterOpen&&(n=t.y-s/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)c=i.width-t.x+this._viewportMargin,h=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)a=t.x,h=i.right-t.x;else{const e=Math.min(i.right-t.x+i.left,t.x),s=this._lastBoundingBoxSize.width;h=2*e,a=t.x-e,h>s&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-s/2)}return{top:n,left:a,bottom:r,right:c,width:h,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=Object(L.c)(i.height),s.top=Object(L.c)(i.top),s.bottom=Object(L.c)(i.bottom),s.width=Object(L.c)(i.width),s.left=Object(L.c)(i.left),s.right=Object(L.c)(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(s.maxHeight=Object(L.c)(t)),o&&(s.maxWidth=Object(L.c)(o))}this._lastBoundingBoxSize=i,at(this._boundingBox.style,s)}_resetBoundingBoxStyles(){at(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){at(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,n=this._overlayRef.getConfig();if(s){const s=this._viewportRuler.getViewportScrollPosition();at(i,this._getExactOverlayY(e,t,s)),at(i,this._getExactOverlayX(e,t,s))}else i.position="static";let r="",h=this._getOffset(e,"x"),a=this._getOffset(e,"y");h&&(r+=`translateX(${h}px) `),a&&(r+=`translateY(${a}px)`),i.transform=r.trim(),n.maxHeight&&(s?i.maxHeight=Object(L.c)(n.maxHeight):o&&(i.maxHeight="")),n.maxWidth&&(s?i.maxWidth=Object(L.c)(n.maxWidth):o&&(i.maxWidth="")),at(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let n=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=n,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":s.top=Object(L.c)(o.y),s}_getExactOverlayX(t,e,i){let s,o={left:"",right:""},n=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?o.right=this._document.documentElement.clientWidth-(n.x+this._overlayRect.width)+"px":o.left=Object(L.c)(n.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:W(t,i),isOriginOutsideView:G(t,i),isOverlayClipped:W(e,i),isOverlayOutsideView:G(e,i)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Object(L.a)(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function at(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function ct(t){if("number"!=typeof t&&null!=t){const[e,i]=t.split(rt);return i&&"px"!==i?null:parseFloat(e)}return t||null}class lt{constructor(t,e,i,s,o,n,r){this._preferredPositions=[],this._positionStrategy=new ht(i,s,o,n,r).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,s){const o=new K(t,e,i,s);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const dt="cdk-global-overlay-wrapper";class ut{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(dt),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:n,maxHeight:r}=i,h=!("100%"!==s&&"100vw"!==s||n&&"100%"!==n&&"100vw"!==n),a=!("100%"!==o&&"100vh"!==o||r&&"100%"!==r&&"100vh"!==r);t.position=this._cssPosition,t.marginLeft=h?"0":this._leftOffset,t.marginTop=a?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,h?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=a?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(dt),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let pt=(()=>{class t{constructor(t,e,i,s){this._viewportRuler=t,this._document=e,this._platform=i,this._overlayContainer=s}global(){return new ut}connectedTo(t,e,i){return new lt(e,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new ht(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(a.ac(O.e),a.ac(s.d),a.ac(P.a),a.ac(st))},t.\u0275prov=Object(a.Ib)({factory:function(){return new t(Object(a.ac)(O.e),Object(a.ac)(s.d),Object(a.ac)(P.a),Object(a.ac)(st))},token:t,providedIn:"root"}),t})(),_t=0,gt=(()=>{class t{constructor(t,e,i,s,o,n,r,h,a,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=n,this._ngZone=r,this._document=h,this._directionality=a,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),i=this._createPaneElement(e),s=this._createPortalOutlet(i),o=new J(t);return o.direction=o.direction||this._directionality.value,new ot(s,e,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+_t++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.g)),new D(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(a.ac(q),a.ac(st),a.ac(a.j),a.ac(pt),a.ac(tt),a.ac(a.r),a.ac(a.z),a.ac(s.d),a.ac(E.b),a.ac(s.h),a.ac(et))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac}),t})();const mt={provide:new a.q("cdk-connected-overlay-scroll-strategy"),deps:[gt],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let ft=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[gt,mt],imports:[[E.a,M,O.d],O.d]}),t})();var bt=i("YEUz"),vt=i("UhP/");i("HeVh"),i("GS7A");const yt={provide:new a.q("mat-tooltip-scroll-strategy"),deps:[gt],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let wt=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[yt],imports:[[bt.a,s.c,ft,vt.a],vt.a,O.b]}),t})();function xt(t,e){1&t&&a.Ic(0),2&t&&a.Jc(e.index<e.value?"\u2605":"\u2606")}function St(t,e){}const kt=function(t,e){return{index:t,value:e}};function Ct(t,e){if(1&t){const t=a.Tb();a.Sb(0,"span",3),a.Ic(1),a.Rb(),a.Sb(2,"span",4),a.dc("mouseenter",function(){a.xc(t);const i=e.index;return a.fc().enter(i+1)})("click",function(){a.xc(t);const i=e.index;return a.fc().rate(i+1)}),a.Gc(3,St,0,0,"ng-template",5),a.Rb()}if(2&t){const t=e.$implicit,i=e.index,s=a.fc(),o=a.uc(2);a.zb(1),a.Kc("(",i<s.value?"*":" ",")"),a.zb(1),a.Dc("cursor",s.readonly?"default":"pointer"),a.Eb("active",i<s.value),a.kc("title",t.title),a.zb(1),a.kc("ngTemplateOutlet",s.customTemplate||o)("ngTemplateOutletContext",a.qc(8,kt,i,s.value))}}let Rt=(()=>{class t{constructor(){this.ariaLabel="rating"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(a.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Ot={provide:_.j,useExisting:Object(a.T)(()=>Pt),multi:!0};let Pt=(()=>{class t{constructor(t,e){this.changeDetection=t,this.max=5,this.onHover=new a.n,this.onLeave=new a.n,this.onChange=Function.prototype,this.onTouched=Function.prototype,Object.assign(this,e)}onKeydown(t){-1!==[37,38,39,40].indexOf(t.which)&&(t.preventDefault(),t.stopPropagation(),this.rate(this.value+(38===t.which||39===t.which?1:-1)))}ngOnInit(){this.max=void 0!==this.max?this.max:5,this.titles=void 0!==this.titles&&this.titles.length>0?this.titles:[],this.range=this.buildTemplateObjects(this.max)}writeValue(t){if(t%1!==t)return this.value=Math.round(t),this.preValue=t,void this.changeDetection.markForCheck();this.preValue=t,this.value=t,this.changeDetection.markForCheck()}enter(t){this.readonly||(this.value=t,this.changeDetection.markForCheck(),this.onHover.emit(t))}reset(){this.value=Math.round(this.preValue),this.changeDetection.markForCheck(),this.onLeave.emit(this.value)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}rate(t){!this.readonly&&t>=0&&t<=this.range.length&&(this.writeValue(t),this.onChange(t))}buildTemplateObjects(t){const e=[];for(let i=0;i<t;i++)e.push({index:i,title:this.titles[i]||i+1});return e}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(a.h),a.Mb(Rt))},t.\u0275cmp=a.Gb({type:t,selectors:[["rating"]],hostBindings:function(t,e){1&t&&a.dc("keydown",function(t){return e.onKeydown(t)})},inputs:{max:"max",titles:"titles",readonly:"readonly",customTemplate:"customTemplate"},outputs:{onHover:"onHover",onLeave:"onLeave"},features:[a.yb([Ot])],decls:4,vars:4,consts:[["tabindex","0","role","slider","aria-valuemin","0",3,"mouseleave","keydown"],["star",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[1,"bs-rating-star",3,"title","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(a.Sb(0,"span",0),a.dc("mouseleave",function(){return e.reset()})("keydown",function(t){return e.onKeydown(t)}),a.Gc(1,xt,1,1,"ng-template",null,1,a.Hc),a.Gc(3,Ct,4,11,"ng-template",2),a.Rb()),2&t&&(a.Ab("aria-label",e.ariaLabel)("aria-valuemax",e.range.length)("aria-valuenow",e.value),a.zb(3),a.kc("ngForOf",e.range))},directives:[s.k,s.n],encapsulation:2,changeDetection:0}),t})(),Et=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})(),Lt=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[Rt],imports:[[s.c,o.e.forChild(R),_.f,d.b.forRoot(),n.b,wt,c.a,Et]]}),t})()}}]);